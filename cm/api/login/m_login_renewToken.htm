---
layout: apipage
title: Renew Token | Login Service | Akana API Platform API
description:  Updates the time for which an authentication token cookie is valid, as well as other information stored in the cookie.
product: cm
category: ref
nav-title: Renew Token 
no-nav: api
sub-nav: true
sub-nav-class: login
no-catalog: true
---

<div class="apidocContent">
<!-- InstanceBeginEditable name="Heading" -->
<h1 id="top">POST&#160;/api/login/renewToken</h1>
<!-- InstanceEndEditable -->

<!-- InstanceBeginEditable name="Intro_AuthRoles" -->
<p> Updates the time for which an authentication token cookie is valid, as well as other information stored in the cookie.</p>
<p>The cookie expiration time is stored as part of the cookie value itself, in the HTTP header. This operation updates the expiration time by sending a new cookie value to the server.</p>
<p>There must be a valid cookie in place for this operation to succeed; if the cookie has already expired the operation will fail.</p>
<p id="id_roles"><strong>Authorization Roles/Permissions</strong>: Must be <a href="../Ref_Glossary_CommunityPlatform.htm#gl_login">logged in</a>.</p>
<!-- InstanceEndEditable -->
<p>This topic includes the following sections:</p>
<div class="relatedlinks">
<ul>
	<li><a href="#httpmethod">HTTP Method</a></li>
	<li><a href="#endpoint">URL</a></li>
	<li><a href="#samplerequest">Sample Request</a></li>
	<li><a href="#requestheaders">Request Headers</a></li>
	<li><a href="#requestparameters">Request Parameters</a></li>
</ul>
<ul>
	<li><a href="#response">Response</a></li>
	<li><a href="#sampleresponse">Sample Response</a></li>
	<li><a href="#responseheaders">Response Headers</a></li>
	<li><a href="#responsebody">Response Body</a></li>
	<li><a href="#errorcodes">Error Codes/Messages</a></li>
</ul>
</div>
<h2 id="httpmethod">HTTP Method</h2>
<!-- InstanceBeginEditable name="HTTP Method" -->
<p class="httpverb">POST</p>
<!-- InstanceEndEditable -->
<p class="apidoc_backtotop"><a href="#top">Back to top</a></p>

<h2 id="endpoint">URL</h2>
<!-- InstanceBeginEditable name="URL" -->
<pre class="soaapidoc_endpoint">https://{hostname}/api/login/renewToken</pre>
<!-- InstanceEndEditable -->
<p class="apidoc_backtotop"><a href="#top">Back to top</a></p>


<!-- InstanceBeginEditable name="Sample Request" -->
<h2 id="samplerequest">Sample Request</h2>
<p id="id_samplerequest">The example below shows a <span class="apidoc_code">POST&#160;/api/login/renewToken</span> request.</p>
<p><strong>Sample request URL</strong></p>
<pre>https://{hostname}/api/login/renewToken</pre>
<p><strong>Sample request headers</strong></p>
<p>In the sample request headers below, line breaks have been added to the cookie value for display purposes, and the X-Csrf-Token_{fedmemberID} header has been abbreviated.</p>
<pre>POST /api/login/renewToken HTTP/1.1
Host: rcoaless.apiportal.akana.com
Accept: application/json
Content-Type: application/x-www-form-urlencoded
Cookie: AtmoAuthToken_rcoaless=TokenID%3D588ed75a-5371-40c6-9ff8-1b1c53f076af%2Cclaimed_id%3Durn%3Aatmosphere
%3Auser%3Arcoaless%3A8697a0a0-2c6f-4bee-a501-c0819b649791%2CissueTime%3D1613688594281%2CexpirationTime%3D1613
690454263%2CUserName%3D111579592339630049469%2CUserFDN%3D8697a0a0-2c6f-4bee-a501-c0819b649791%252Ercoaless%2C
AttributesIncluded%3Dfalse%2Csig%3DEqIom326DbF6uykOXC0VHpbSj9TZu8hPfOU0PS50lmugtcGqfRokV6rkE8zWrMmYODMDte27UZ
xYHMqsZt4-39Y_-Za6y5MjmEX2Y0DXzo2XBh1EHYHUMVt-C8XB9QUy7n_oVBUkFvrbuSUIWINcqTLMwxRztLYYp09d1Z2vFvs
X-Csrf-Token_rcoaless: TokenID%3D8ed70a13-8469-11e8-b37a-b155e4eabeb8%2CexpirationTime%3D153...</pre>
<p><strong>Sample request body</strong></p>
<p>Not applicable.</p>
<p class="apidoc_backtotop"><a href="#top">Back to top</a></p>
<!-- InstanceEndEditable -->


<!-- InstanceBeginEditable name="Request Headers" -->
<h2 id="requestheaders">Request Headers</h2>
<p>For general information on request header values, refer to <a href="../aaref/Ref_HTTPHeaders.htm#ref_httprequestheaders">HTTP Request Headers</a>.</p>
<table class="tableparmsresponse">
	<thead>
		<tr>
			<th>Header</th>
			<th>Description</th>
		</tr>
	</thead>
	<tbody>
		<tr>
			<td><a href="../aaref/Ref_HTTPHeaders.htm#acceptheader">Accept</a></td>
			<td><strong>application/json</strong>, <strong>application/vnd.soa.v71+json</strong>, <strong>application/vnd.soa.v72+json</strong>, <strong>application/vnd.soa.v80+json</strong>, <strong>application/vnd.soa.v81+json</strong></td>
		</tr>
		<tr>
			<td><a href="../aaref/Ref_HTTPHeaders.htm#contenttype_request">Content-Type</a></td>
			<td><strong>application/x-www-form-urlencoded</strong></td>
		</tr>
		<tr>
			<td>Cookie</td>
			<td><a href="../aaref/Ref_CookiesOnThePlatform.htm#cookie_atmoauthtoken">AtmoAuthToken_{fedmemberid}={cookie value, which usually starts with TokenID}</a>&#8212;The platform cookie. This is the Akana API Platform authorization token, and must be sent with every API request that requires login. For more information and an example, see <a href="../aaref/Ref_CookiesOnThePlatform.htm#cookies_custom">Session cookies</a>.</td>
		</tr>
		<tr>
			<td><a href="../aaref/Ref_HTTPHeaders.htm#csrf_token_request">X-Csrf-Token_{fedmemberID}</a></td>
			<td>The CSRF prevention header; may or may not be required, depending on platform settings. See <a href="../aaref/Ref_CSRFPreventionOnThePlatform.htm">CSRF Prevention on the Platform</a>. By default, the CSRF header is not required for GET operations and is required for all others, with a few exceptions relating to user login.</td>
		</tr>
	</tbody>
</table>
<p class="apidoc_backtotop"><a href="#top">Back to top</a></p>
<!-- InstanceEndEditable -->


<!-- InstanceBeginEditable name="Request Parameters" -->
<h2 id="requestparameters">Request Parameters</h2>
<p>None. However, the cookie parameter in the request header is important since there must be a valid cookie in place for this operation to work. The request must include a valid token that has not expired.</p>
<p>If your programming environment records the cookie and sends it automatically with your requests, there's nothing else you'll need to do. If it doesn't, you'll need to capture the cookie after login and send it as an HTTP request header for each request.</p>
<p class="apidoc_backtotop"><a href="#top">Back to top</a></p>
<!-- InstanceEndEditable -->


<!-- InstanceBeginEditable name="Response Description" -->
<h2 id="response">Response</h2>
<p id="id_successstatement">If successful, the renewToken method returns an updated user authentication token.</p>
<p class="apidoc_backtotop"><a href="#top">Back to top</a></p>
<!-- InstanceEndEditable -->


<!-- InstanceBeginEditable name="Sample Response" -->
<h2 id="sampleresponse">Sample Response</h2>
<p id="id_sampleresponse">The sample response below shows a new cookie returned.</p>
<h4>Sample response headers</h4>
<p>In the sample response headers below, the Set-Cookie value has been abbreviated for display purposes.</p>
<pre>HTTP/1.1 200 OK
Content-Type: application/json
Date: Tue, 16 Feb 2021 21:30:23 GMT
Set-Cookie: AtmoAuthToken_acmepaymentscorp=TokenID%3D553bed71-6e51-437c-bddf-90b2cffdb0a0%2Cclaimed_id%3Durn%3Aatmosphere%3Auser%3Aacmepaymentscorp%3Af1ee ... ymUBMkqmp9doQ;path=/;HttpOnly;Secure;expires=Tue, 16 Feb 2021 22:01:23 GMT</pre>
<h4>Sample response body</h4>
<pre>{
  "userName" : "JenMeadows",
  "userFDN" : "f1ee5aaa-e58e-4bc7-989e-490ccd854904.acmepaymentscorp",
  "avatarURL" : "https://acmepaymentscorp.apiportal.akana.com:443/api/users/f1ee5aaa-e58e-4bc7-989e-490ccd854904.acmepaymentscorp/avatars/7057fa39-e78d-4055-bbb0-3afa21532f51.png",
  "pendingNotifications" : 0,
  "status" : "success",
  "loginDomainID" : "siteusers.acmepaymentscorp",
  "lastLoginDate" : "2021-02-16T21:09:15Z",
  "sessionValidUntil" : "2021-02-16T23:18:00.056Z",
  "authTokenValidUntil" : "2021-02-16T22:00:23.996Z"
}
</pre>
<p class="apidoc_backtotop"><a href="#top">Back to top</a></p>
<!-- InstanceEndEditable -->


<!-- InstanceBeginEditable name="Response Headers" -->
<h2 id="responseheaders">Response Headers</h2>
<p>For general information on response header values, refer to <a href="../aaref/Ref_HTTPHeaders.htm#ref_httpresponseheaders">HTTP Response Headers</a>.</p>
<table class="tableparmsresponse">
	<thead>
		<tr>
			<th>Header</th>
			<th>Description</th>
		</tr>
	</thead>
	<tbody>
		<tr>
			<td><a href="../aaref/Ref_HTTPHeaders.htm#contenttype_response">Content-Type</a></td>
			<td><strong>application/json</strong>, <strong>application/vnd.soa.v71+json</strong>, <strong>application/vnd.soa.v72+json</strong>, <strong>application/vnd.soa.v80+json</strong>, <strong>application/vnd.soa.v81+json</strong></td>
		</tr>
		<tr>
			<td><a href="../aaref/Ref_HTTPHeaders.htm#setcookie_response">Set-Cookie</a></td>
			<td> The set-cookie response header sets, updates, or expires the platform cookie to reflect changes made by the operation.</td>
		</tr>
	</tbody>
</table>
<p class="apidoc_backtotop"><a href="#top">Back to top</a></p>
<!-- InstanceEndEditable -->


<!-- InstanceBeginEditable name="Response Body" -->
<h2 id="responsebody">Response Body</h2>
<table class="tableparmsresponse">
	<thead>
		<tr>
			<th>Name</th>
			<th>Type</th>
			<th>Description</th>
		</tr>
	</thead>
	<tbody>
		<tr>
			<td>LoginResponse</td>
			<td><a href="../obj/o_login_LoginResponse.htm">LoginResponse</a></td>
			<td><p>Contains information returned as a result of logging in.</p>
				<p>When renewing the token, the LoginResponse object includes the following:</p>
				<ul class="apidoctable_ul">
					<li>user name, FDN, and avatarURL</li>
					<li>pendingNotifications and status</li>
					<li>loginDomainID and lastLoginDate</li>
					<li>sessionValidUntil/authTokenValidUntil, indicating how long the session will be valid if active/inactive.</li>
				</ul>
				<p>See example above.</p>				<!--api-portal/com.soa.atmosphere.interfaces/src/com/soa/login/model/LoginResponse.java--></td>
		</tr>
	</tbody>
</table>
<p class="apidoc_backtotop"><a href="#top">Back to top</a></p>
<!-- InstanceEndEditable -->


<h2 id="errorcodes">Error Codes/Messages</h2>
<p>If the call is unsuccessful an error code/message is returned. One or more examples of possible errors for this operation are shown below.</p>
<!-- InstanceBeginEditable name="Error Messages" -->
<table class="tableparmsresponse">
	<thead>
		<tr>
			<th>Item</th>
			<th>Value</th>
		</tr>
	</thead>
	<tbody>
		<tr>
			<td><a href="../aaref/Ref_HTTPStatusCodes.htm#http500">500</a></td>
			<td>An error occurred processing the call.</td>
		</tr>
	</tbody>
</table>
<!-- InstanceEndEditable -->
<p><a href="../aaref/Ref_ErrorMessages.htm">More information about Akana API Platform API error messages.</a></p>
<p class="apidoc_backtotop"><a href="#top">Back to top</a></p>


<h2 id="relatedtopics">Related Topics</h2>
<div class="relatedlinks">
<ul>
	<li><a href="../index.htm">Akana API Platform API: Overview</a></li>
	<li><a href="../Ref_Glossary_CommunityPlatform.htm">Glossary of Terms</a></li>
	<li><a href="../Ref_DocConventions.htm">Documentation Conventions</a></li>
</ul>
<ul>
	<li><a href="../Ref_AuthenticationAndSecurity.htm">Authentication and Security</a></li>
	<li><a href="../Ref_TroubleshootingAndSupport.htm">Troubleshooting and Support</a></li>
	<li><a href="../Ref_API_Reference.htm">Akana API Platform API: Reference Material</a></li>
	<li><a href="../aaex/Ref_Ex_Overview.htm">Examples: Overview</a></li>
</ul>
</div>




</div>
